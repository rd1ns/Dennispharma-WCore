@inject SeoSettings _seoSettings
@inject IWebHelper _webHelper
@inject WCore.Core.IWorkContext _workContext
@model OrderModel
@{
    Layout = null;
    var Rooms = Model.OrderItems.Where(o => o.EntityGroup == EntityGroup.Room);
    var Activities = Model.OrderItems.Where(o => o.EntityGroup == EntityGroup.Activity);
    var Equipments = Model.OrderItems.Where(o => o.EntityGroup == EntityGroup.Equipment);
    var Transfers = Model.OrderItems.Where(o => o.EntityGroup == EntityGroup.Transfer);
    var Tours = Model.OrderItems.Where(o => o.EntityGroup == EntityGroup.Tour);
}
<html>
<head>

</head>
<body>
    <table border="1" cellspacing="0" cellpadding="5">
        <tbody>
            <tr>
                <td style="text-align: center;" colspan="2"><strong> @T("common.mail.personel.information.title")</strong></td>
            </tr>
            <tr>
                <td><strong>@T("common.mail.namesurname")</strong></td>
                <td>@Model.User.FirstName @Model.User.MiddleName @Model.User.LastName </td>
            </tr>
            <tr>
                <td><strong>@T("common.mail.email")</strong></td>
                <td><a href="mailto:@Model.User.EMail" target="_blank">@Model.User.EMail</a></td>
            </tr>
            <tr>
                <td><strong>@T("common.mail.phone")</strong></td>
                <td>@Model.User.Phone</td>
            </tr>
            <tr>
                <td><strong>@T("common.mail.pricerange")</strong></td>
                <td>@Model.UserSearch.Range</td>
            </tr>
            <tr>
                <td><strong>@T("common.mail.adultcount")</strong></td>
                <td>@Model.UserSearch.AdultCount</td>
            </tr>
            <tr>
                <td><strong>@T("common.mail.childcount")</strong></td>
                <td>@Model.UserSearch.ChildCount</td>
            </tr>
            @if (Rooms.Any())
            {
                <tr>
                    <td colspan="2"> </td>
                </tr>
                <tr>
                    <td style="text-align: center;" colspan="2"><strong> @T("common.mail.room.information.title")</strong></td>
                </tr>
                @foreach (var orderItem in Rooms)
                {
                    <tr>
                        <td><strong>@T("common.mail.skiresort.title") </strong></td>
                        <td>@orderItem.Room.Hotel.SkiResort.Title</td>
                    </tr>
                    <tr>
                        <td><strong> @T("common.mail.hotel.title") </strong></td>
                        <td>@orderItem.Room.Hotel.Title</td>
                    </tr>
                    <tr>
                        <td><strong> @T("common.mail.room.title") </strong></td>
                        <td>@orderItem.Room.Title</td>
                    </tr>
                    <tr>
                        <td><strong> @T("common.mail.price") </strong></td>
                        <td>@orderItem.Price @(orderItem.PriceVariation != null ? orderItem.PriceVariation.Name : "") @(orderItem.PriceParentVariation != null ? orderItem.PriceParentVariation.Name : "")</td>
                    </tr>
                }
            }
            @if (Transfers.Any())
            {
                <tr>
                    <td colspan="2"> </td>
                </tr>
                <tr>
                    <td style="text-align: center;" colspan="2"><strong> @T("common.mail.transfer.information.title")</strong></td>
                </tr>
                @foreach (var orderItem in Transfers)
                {
                    <tr>
                        <td><strong> @T("common.mail.skiresort.title") </strong></td>
                        <td>@orderItem.Transfer.SkiResort.Title</td>
                    </tr>
                    <tr>
                        <td><strong> @T("common.mail.transfer.title") </strong></td>
                        <td>@orderItem.Transfer.Title</td>
                    </tr>
                    <tr>
                        <td><strong> @T("common.mail.price") </strong></td>
                        <td>@orderItem.Price @(orderItem.PriceVariation != null ? orderItem.PriceVariation.Name : "") @(orderItem.PriceParentVariation != null ? orderItem.PriceParentVariation.Name : "")</td>
                    </tr>
                }
            }
            @if (Activities.Any())
            {
                <tr>
                    <td colspan="2"> </td>
                </tr>
                <tr>
                    <td style="text-align: center;" colspan="2"><strong> @T("common.mail.activity.information.title")</strong></td>
                </tr>
                @foreach (var orderItem in Activities)
                {
                    <tr>
                        <td><strong> @T("common.mail.skiresort.title") </strong></td>
                        <td>@orderItem.Activity.SkiSchool.SkiResort.Title</td>
                    </tr>
                    <tr>
                        <td><strong> @T("common.mail.skischool.title") </strong></td>
                        <td>@orderItem.Activity.SkiSchool.Title</td>
                    </tr>
                    <tr>
                        <td><strong> @T("common.mail.activity.title") </strong></td>
                        <td>@orderItem.Activity.Title</td>
                    </tr>
                    <tr>
                        <td><strong> @T("common.mail.price") </strong></td>
                        <td>@orderItem.Price @(orderItem.PriceVariation != null ? orderItem.PriceVariation.Name : "") @(orderItem.PriceParentVariation != null ? orderItem.PriceParentVariation.Name : "")</td>
                    </tr>
                }
            }
            @if (Equipments.Any())
            {
                <tr>
                    <td colspan="2"> </td>
                </tr>
                <tr>
                    <td style="text-align: center;" colspan="2"><strong> @T("common.mail.equipment.information.title")</strong></td>
                </tr>
                @foreach (var orderItem in Equipments)
                {
                    <tr>
                        <td><strong> @T("common.mail.skiresort.title") </strong></td>
                        <td>@orderItem.Equipment.EquipmentCategory.SkiSchool.SkiResort.Title</td>
                    </tr>
                    <tr>
                        <td><strong> @T("common.mail.skischool.title") </strong></td>
                        <td>@orderItem.Equipment.EquipmentCategory.SkiSchool.Title</td>
                    </tr>
                    <tr>
                        <td><strong> @T("common.mail.equipmentcategory.title") </strong></td>
                        <td>@orderItem.Equipment.EquipmentCategory.Title</td>
                    </tr>
                    <tr>
                        <td><strong> @T("common.mail.equipment.title") </strong></td>
                        <td>@orderItem.Equipment.Title</td>
                    </tr>
                    <tr>
                        <td><strong> @T("common.mail.price") </strong></td>
                        <td>@orderItem.Price @(orderItem.PriceVariation != null ? orderItem.PriceVariation.Name : "") @(orderItem.PriceParentVariation != null ? orderItem.PriceParentVariation.Name : "")</td>
                    </tr>
                }
            }
            @if (Tours.Any())
            {
                <tr>
                    <td colspan="2"> </td>
                </tr>
                <tr>
                    <td style="text-align: center;" colspan="2"><strong> @T("common.mail.tour.information.title")</strong></td>
                </tr>
                @foreach (var orderItem in Tours)
                {
                    <tr>
                        <td><strong> @T("common.mail.tourcategory.title") </strong></td>
                        <td>@orderItem.Tour.TourCategory.Title</td>
                    </tr>
                    <tr>
                        <td><strong> @T("common.mail.tour.title") </strong></td>
                        <td>@orderItem.Tour.Title</td>
                    </tr>
                    <tr>
                        <td><strong> @T("common.mail.price") </strong></td>
                        <td>@orderItem.Price @(orderItem.PriceVariation != null ? orderItem.PriceVariation.Name : "") @(orderItem.PriceParentVariation != null ? orderItem.PriceParentVariation.Name : "")</td>
                    </tr>
                }
            }
        </tbody>
    </table>
</body>
</html>